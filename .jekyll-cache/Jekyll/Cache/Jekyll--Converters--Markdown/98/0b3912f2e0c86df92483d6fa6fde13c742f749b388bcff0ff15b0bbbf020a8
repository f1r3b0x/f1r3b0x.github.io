I"ı<h3 id="qu√©-es-un-servidor-web"><a href="#header-1"></a>¬øQu√© es un servidor <em>web</em>?</h3>

<p>Es una aplicaci√≥n que corre en el servidor <em>back-end</em>, cuya funci√≥n es encargarse de todo el tr√°fico HTTP del lado del navegador del cliente, direccionarlo a las p√°ginas de destino
de peticiones y finalmente respondiendo al navegador del cliente. Suelen correr en los puertos TCP 80 o 443 y conectan al usuario final con partes de la aplicaci√≥n web, manejando sus
posibles respuestas.</p>

<p>Debido a que las aplicaciones <em>web</em> suelen estar abiertas al p√∫blico, pueden derivar en ataques al servidor <em>back end</em> si este tiene vulnerabilidades. Por lo que suelen ser objetivos de
alto valor para atacantes y <em>pentesters</em>.</p>

<p>Hay muchos tipos de vulnerabilidades que pueden afectar a las aplicaciones web. Listas como el top 10 de <em>Open Web Application Security Project</em> (OWASP).</p>

<h2 id="herramientas-b√°sicas"><a href="#header-2"></a>Herramientas b√°sicas</h2>

<p>Herramientas como <code class="language-plaintext highlighter-rouge">SSH</code>, <code class="language-plaintext highlighter-rouge">Netcat</code>, <code class="language-plaintext highlighter-rouge">Tmux</code> y <code class="language-plaintext highlighter-rouge">Vim/Nvim</code> son usadas diariamente por la mayor√≠a de los professionales de la ciberseguridad. Por lo tanto, y pese a que no son realmente
herramientas de <em>pentesting</em>, son imprescindibles y debemos dominarlas.</p>

<h3 id="secure-shell-ssh"><a href="#header-3"></a><em>Secure Shell (SSH)</em></h3>

<p>El SSH es un protocolo de red que trabaja por defecto en el puerto 22 y provee a los administradores de sistemas una v√≠a segura para acceder a un ordenador de forma remota.<br />
Se puede configurar mediante autenticaci√≥n por contrase√±a o mediante autenticaci√≥n por llave p√∫blica en conjunto con su pareja SSH p√∫blica/privada. SSH puede ser usado para acceder
remotamente a sistemas en la misma red o a trav√©s de <em>Internet</em>, para facilitar conexiones a recursos en otras redes y subiendo/decargando archivos a y desde sistemas remotos.</p>

<p>SSH utiliza un modelo cliente-servidor que conecta al usuario usando un cliente SSH (como OpenSSH) a un servidor SSH. Si al hacer un ataque obtenemos credenciales SSH en texto claro, 
podemos utilizarlas para entrar al servidor de forma remota mediate <code class="language-plaintext highlighter-rouge">ssh username@server_IP</code><br />
Tambi√©n es posible leer claves locales privadas en sistemas comprometidos o a√±adir nuestra clave p√∫blica para ganar acceso SSH a un usuario espec√≠fico.</p>

<h3 id="netcat"><a href="#header-4"></a><em>Netcat</em></h3>

<p><code class="language-plaintext highlighter-rouge">ncat</code> o <code class="language-plaintext highlighter-rouge">nc</code> es una utilidad de red para interactuar con los puertos TCP/UDP. Sus posibles usos durante un <em>pentest</em> son muchos, pero principalmente es para conectarse a terminales.<br />
Tambi√©n se puede usar para conectar a cualquier puerto en escucha y interactuar con su servicio. Podemos conectar al puerto TCP 22 con <code class="language-plaintext highlighter-rouge">netcat</code>:<br />
<code class="language-plaintext highlighter-rouge">netcat IP 22</code></p>

<p>Al hacer esto se nos muestra su ‚Äúcartelera‚Äù, la cual indica que servicio est√° corriendo el puerto introducido.<br />
La alternativa en Windows a este servicio se llama <code class="language-plaintext highlighter-rouge">PowerCat</code>.<br />
<em>Netcat</em> tambi√©n se puede usar para transferir archivos entre m√°quinas.</p>

<p>Otra utilidad similar a <em>netcat</em> es <code class="language-plaintext highlighter-rouge">socat</code>, cuyas funciones permiten (al contrario que netcat) reenviar puertos y conectar a dispositivos serie. <code class="language-plaintext highlighter-rouge">Socat</code> tambi√©n sirve para 
convertir una <em>shell</em> a un ‚ÄúTTY‚Äù totalmente interactivo. Un binario de <code class="language-plaintext highlighter-rouge">socat</code> puede enviarse a un sistema despu√©s de tomar el control remoto para conseguir una conexi√≥n <em>reverse shell</em>
m√°s estable.</p>

<h3 id="tmux"><a href="#header-5"></a>Tmux</h3>

<p>Los multiplexores de terminales, como <code class="language-plaintext highlighter-rouge">tmux</code> o <code class="language-plaintext highlighter-rouge">Screen</code>, sirven para ampliar las funciones de una terminal, como tener diversas ventanas en una terminal e ir saltando entre ellas.</p>

<p>Una vez ejectutado <code class="language-plaintext highlighter-rouge">tmux</code>, la tecla predefinida para indicar comandos <code class="language-plaintext highlighter-rouge">tmux</code> es [CTRL + B].<br />
Para abrir una ventana nueva debemos hacer [CTRL + B] seguido de [CTRL + C].<br />
Abajo podemos observar las ventanas numeradas. Para cambiar a otra ventana haremos [CTRL + B]
seguido de [CTRL + <numVentana>].  
Podemos partir una ventana verticalmente con [CTRL + %] tras [CTRL + B]. Horizontalmente
ser√≠a [CTRL + "].  
Cambiamos de panel mediante [CTRL + B] y [<flechaDir>].</flechaDir></numVentana></p>

<p>Esto ser√≠a lo b√°sico para usar <code class="language-plaintext highlighter-rouge">tmux</code> pero hay mucho m√°s, como para hacer <em>logging</em>.</p>

<h3 id="vim"><a href="#header-6"></a>Vim</h3>

<p><code class="language-plaintext highlighter-rouge">Vim</code> o su fork <code class="language-plaintext highlighter-rouge">Nvim</code> son editores de texto que se pueden utilizar para escribir c√≥digo o editar archivos de texto en sistemas Linux. Su particularidad es que funciona √≠ntregramente con
teclado, por lo que no es necesaria la utilizaci√≥n de rat√≥n. Pese a ser dif√≠cil de dominar, cuando lo hagamos nuestra productividad y eficiencia se incrementar√°n exponencialmente.</p>

<p>Abrimos un archivo con: <code class="language-plaintext highlighter-rouge">vim &lt;direcci√≥n_archivo&gt;</code>
Creamos un archivo con: <code class="language-plaintext highlighter-rouge">vim &lt;nombre_archivo&gt;</code></p>

<p>Al empezar, nos encontramos en el modo normal. Este nos permite navegar por el archivo, por lo que para entrar en el modo de edici√≥n debemos pulsar <code class="language-plaintext highlighter-rouge">i</code> (entrando al modo de inserci√≥n)
. Hay muchos atajos que podemos utilizar en el modo normal, como:</p>
<ul>
  <li>x ‚Äì&gt; Cortar caracter</li>
  <li>dw -&gt; Cortar palabra</li>
  <li>dd -&gt; Cortar toda la l√≠nea</li>
  <li>yw -&gt; Copiar palabra</li>
  <li>yy -&gt; Copiar toda la l√≠nea</li>
  <li>p ‚Äì&gt; Pegar</li>
</ul>

<p>Podemos multiplicar el efecto de cada comando a√±adiendo un n√∫mero delante. Por ejemplo, ‚Äò4x‚Äô cortar√≠a 4 caracteres.<br />
Tambi√©n existe el modo de comandos. Al que se accede con <code class="language-plaintext highlighter-rouge">:</code>. Algunos de sus comandos son:</p>
<ul>
  <li>:1 ‚Äì&gt; Ir a la l√≠nea 1</li>
  <li>:w ‚Äì&gt; Guardar el archivo</li>
  <li>:q ‚Äì&gt; Salir</li>
  <li>:q! -&gt; Forzar salida (sin guardar)</li>
  <li>:wq -&gt; Guardar y salir</li>
</ul>
:ET
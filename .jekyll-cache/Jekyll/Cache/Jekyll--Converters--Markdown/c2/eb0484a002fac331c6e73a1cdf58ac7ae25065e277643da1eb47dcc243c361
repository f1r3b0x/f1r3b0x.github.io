I"ó<p>Al escanear los servicios, es com√∫n ver servidores <em>web</em> ejecutando en los puertos 80 y 443. Como ya mencionamos anteriormente, las aplicaciones web que corren en estos servidores
suelen ser objetivos interesantes al realizar un <em>pentest</em>. Por lo que veremos que la enumeraci√≥n <em>web</em> es clave, sobre todo si no hay muchos servicios expuestos o est√°n
bien parcheados.</p>

<h3 id="gobuster"><a href="#header-1"></a>Gobuster</h3>

<p>Al descubrir una aplicaci√≥n <em>web</em>, debemos intentar descubrir archivos ocultos o directorios en el servidor que no est√°n destinados al p√∫blico. Para esto podemos usar herramientas
como <code class="language-plaintext highlighter-rouge">ffuf</code> o <code class="language-plaintext highlighter-rouge">GoBuster</code>, cuya funci√≥n en enumerar sus directorios. Puede que encontremos funciones ocultas o p√°ginas que contengan datos sensibles que podamos usar para llevar a
cabo la penetraci√≥n.</p>

<h4 id="enumeraci√≥n-de-directorios-yo-archivos"><a href="#header-2"></a>Enumeraci√≥n de directorios y/o archivos</h4>

<p><code class="language-plaintext highlighter-rouge">GoBuster</code> es una herramienta vers√°til que permite realizar fuerza-bruta sobre directorios, anfitriones virtuales (<em>Virtual Hosts</em> o vhosts) y a las direcciones gestionadas por el
Sistema de Nombres de Dominio (DNS). Pese a tener algunas funcionalidades m√°s, en este punto a nosotros nos interesa la fuerza-bruta sobre archivos y directorios; para lo que
utilizaremos el <em>switch</em> <code class="language-plaintext highlighter-rouge">dir</code> y un diccionario de palabras comunes:<br />
<code class="language-plaintext highlighter-rouge">gobuster dir -u http://&lt;direcci√≥n_ip&gt; -w /usr/share/dirb/wordlists/common.txt</code><br />
Esto nos devolver√° un listado de subdirecciones con un c√≥digo de estado HTTP.</p>

<p>Algunos de los c√≥digos HTTP, con los que nos convendr√° familiarizarnos (quiz√° con el m√≥dulo <em>Web Requests</em>), son:</p>
<ul>
  <li>200 ‚Äì&gt; La petici√≥n del recurso ha sido satisfactoria</li>
  <li>403 ‚Äì&gt; Tenemos el acceso prohibido a ese recurso</li>
  <li>301 ‚Äì&gt; Seremos redirigidos (no es un caso de fallo)</li>
</ul>

<p>Al realizar la fuerza-bruta es probable que se nos muestre el tipo de Sistema de Gesti√≥n de Contenido (CMS), siendo el m√°s com√∫n ‚ÄúWordPress‚Äù, cuya superf√≠cie potencial de ataque
es muy grande. Es interesante visitar los subdominios descubiertos, pues en ocasiones descubriremos informaci√≥n o encontraremos que podemos ganar acceso para ejecutar c√≥digo de forma
remota (RCE).</p>

<h4 id="enumeraci√≥n-de-subdominios-dns"><a href="#header-3"></a>Enumeraci√≥n de Subdominios DNS</h4>

<p>Existe la posibilidad que haya recursos que puedan ser explotados en los subdominios. Podemos usar <code class="language-plaintext highlighter-rouge">GoBuster</code> para enumerar los subdominios disponibles de un dominio mediante el 
par√°metro <code class="language-plaintext highlighter-rouge">dns</code>:<br />
<code class="language-plaintext highlighter-rouge">gobuster dns -d &lt;direcci√≥n_dns&gt; -w &lt;diccionario&gt;</code></p>

<p>Tambi√©n descargaremos e instalaremos <code class="language-plaintext highlighter-rouge">SecLists</code>, pues nos brindar√° diccionarios de inter√©s para lo mencionado en el p√°rrafo anterior. Como, por ejemplo:<br />
‚Äú/usr/share/SecLists/Discovery/DNS/namelist.txt‚Äù<br />
Para m√°s detalles sobre la enumeraci√≥n y el <em>fuzzing</em> podemos realizar el m√≥dulo ‚Äú<em>Attacking Web Applications with Ffuf</em>‚Äù.</p>

<h3 id="consejos-para-la-enumeraci√≥n-web"><a href="#header-4"></a>Consejos para la enumeraci√≥n web</h3>

<p>Los siguientes consejos nos servir√°n tanto para la resoluci√≥n de m√°quinas en HTB como para el mundo real.</p>

<h4 id="banner-grabbing--encabezados-de-servidores-web"><a href="#header-5"></a><em>Banner Grabbing</em> / Encabezados de Servidores <em>Web</em></h4>

<p>Los encabezados de los servidores <em>web</em> dibujan bien aquello que se aloja en un servidor. Mostrando, por ejemplo, el marco de trabajo espec√≠fico de la applicaci√≥n en uso, las opciones
de autenticaci√≥n y si el servidor carece de alguna medida esencial de seguridad o no est√° correctamente configurado. Una buena herramienta para extraer la informaci√≥n de los
encabezados de servidores <em>web</em> es <code class="language-plaintext highlighter-rouge">cURL</code>:<br />
<code class="language-plaintext highlighter-rouge">curl -IL &lt;dirreci√≥n_url&gt;</code></p>

<p>Otra herramienta interesante para tomar instant√°neas de aplicaciones <em>web</em> objetivo e indentificar datos y posibles credenciales por defecto.</p>

<h4 id="whatweb"><a href="#header-6"></a>Whatweb</h4>

<p>Podemos extraer la versi√≥n de un servidor <em>web</em>, sus marcos de trabajo y aplicaciones con la ayuda del comando <code class="language-plaintext highlighter-rouge">whatweb</code>. Conocer la versi√≥n de las diversas cosas nos permite 
empezar a buscar vulnerabilidades potenciales. El uso ser√≠a:<br />
<code class="language-plaintext highlighter-rouge">whatweb &lt;direcci√≥n_ip&gt;</code><br />
Como la mayor√≠a de las herramientas, <code class="language-plaintext highlighter-rouge">whatweb</code> tiene muchas opciones seg√∫n nuestras necesidades y pese a no ser necesario memorizarlas, es conveniente irlas consultando y
recordando mediante la pr√°ctica.</p>

<h4 id="certificados"><a href="#header-7"></a>Certificados</h4>

<p>Los certificados SSL/TLS suelen ser buenas fuentes de informaci√≥n si la p√°gina hace uso de HTTPS. Navegar a https://<direcci√≥n_ip>/ y ver su certificado puede revelar informaci√≥n
de inter√©s para posibles ataques de _phishing_.</direcci√≥n_ip></p>

<h4 id="robotstxt"><a href="#header-8"></a>Robots.txt</h4>

<p>Muchas p√°ginas web contienen un archivo <code class="language-plaintext highlighter-rouge">robots.txt</code>, con instrucciones para los motores de b√∫squeda que indiquen qu√© se puede usar para indexar y que no. Esto nos permite deducir
que el archivo mencionado puede contener la localizaci√≥n de archivos privados y p√°ginas de administraci√≥n (desactivadas para su indexaci√≥n).</p>

<h4 id="c√≥digo-fuente"><a href="#header-9"></a>C√≥digo Fuente</h4>

<p>Tambi√©n vale la pena ojear el c√≥digo fuente de las p√°ginas que encontremos. Mediante [CTRL + U] el navegador nos muestra el c√≥digo fuente de la p√°gina. Aqu√≠ podemos llegar a
encontrar informaci√≥n sensible, como credenciales para una cuenta de pruebas.</p>
:ET